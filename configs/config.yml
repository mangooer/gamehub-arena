server:
  host: "0.0.0.0"
  port: 20000
  
database:
  host: "localhost"
  port: 5432
  name: "gamehub_arena"
  user: "postgres"
  password: "123456"
  ssl_mode: "disable"
  max_open_conns: 100
  max_idle_conns: 10
  max_lifetime: 1  # 小时
  
redis:
  host: "localhost"
  port: 6379
  password: ""
  db: 0
  
logging:
  level: "info"
  format: "json"
  output: "console"
  file_path: "./logs/app.log"
  max_size: 100
  max_backups: 3
  max_age: 28
  compress: true

auth:
  jwt:
    secret_key: "ctAf9pUx41LkDOJKAG4uz8OhLAAQTOwK"
    access_token_ttl: 15
    refresh_token_ttl: 168
    issuer: "gamehub-arena"
    audience: "gamehub-users"
  password:
    min_length: 8
    require_upper: true
    require_lower: true
    require_digit: true
    require_symbol: false
    bcrypt_cost: 12
  session:
    max_sessions: 5
    inactive_timeout: 30
    remember_me_days: 30

monitoring:
  metrics:
    enabled: true
    port: 9090
    path: /metrics
    namespace: gamehub
    subsystem: arena
  tracing:
    enabled: false
    service_name: gamehub-arena
  health:
    enabled: true
    port: 8080
    path: /health
    check_interval: 30

match:
  default_algorithm: "elo"  # 默认使用的算法
  algorithms:
    elo:
      name: "ELO Rating"
      description: "Traditional ELO rating algorithm"
      version: "1.0.0"
      enabled: true
      weights:
        level: 0.3
        winrate: 0.3
        ping: 0.2
        mmr: 0.2
      thresholds:
        min_score: 0.6
        max_score: 1.0
      parameters:
        k_factor: 32
        initial_rating: 1200
      max_level_diff: 5
      max_win_rate_diff: 0.3
      max_ping_diff: 100
      max_queue_time: 300
      enable_dynamic_adjustment: true
      queue_time_multiplier: 1.2
      
    glicko:
      name: "Glicko-2"
      description: "Glicko-2 rating algorithm with rating deviation"
      version: "2.0.0"
      enabled: false  # 暂时禁用
      weights:
        level: 0.25
        winrate: 0.35
        ping: 0.15
        mmr: 0.25
      thresholds:
        min_score: 0.5
        max_score: 1.0
      parameters:
        initial_rating: 1500
        initial_rd: 350
        volatility: 0.06
        tau: 0.5
      max_level_diff: 8
      max_win_rate_diff: 0.4
      max_ping_diff: 150
      max_queue_time: 450
      enable_dynamic_adjustment: true
      queue_time_multiplier: 1.1
      
    trueskill:
      name: "TrueSkill"
      description: "Microsoft TrueSkill algorithm for team games"
      version: "1.0.0"
      enabled: false
      weights:
        level: 0.2
        winrate: 0.4
        ping: 0.1
        mmr: 0.3
      thresholds:
        min_score: 0.4
        max_score: 1.0
      parameters:
        mu: 25.0
        sigma: 8.333
        beta: 4.166
        tau: 0.083
      max_level_diff: 10
      max_win_rate_diff: 0.5
      max_ping_diff: 200
      max_queue_time: 600
      enable_dynamic_adjustment: false
      queue_time_multiplier: 1.0
